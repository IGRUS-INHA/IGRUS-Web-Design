# 디자인 에이전트 전략

## 개요

디자이너 없이 AI 기반 디자인 에이전트를 활용하여, 프론트엔드 리드의 피드백을 누적 학습하고 팀 취향에 맞는 UI 디자인을 생성하는 시스템.

## 핵심 컨셉

**생성 → 평가 → 저장 → 참조 → 재생성** 사이클을 반복하여 사용자 취향에 수렴한다.

- 디자이너를 대체하는 것이지, 프론트엔드 개발을 대체하는 것이 아님
- 에이전트의 역할은 Figma 시안을 넘겨주는 디자이너와 동일
- 생성된 HTML/CSS 시안을 참고하여 개발자가 React 컴포넌트로 구현

## 워크플로우

```
1. 에이전트에게 페이지 디자인 요청
2. 에이전트가 2개 시안 생성 (A/B)
3. 프론트엔드 리드가 평가 (A/B 선택 + 한 줄 이유)
4. 결과를 별도 레포에 저장
5. 다음 요청 시 누적 데이터 기반으로 생성
```

## 제약 조건

- 기존 IGRUS-Web 프로젝트의 **디자인 시스템 위에서** 생성 (색상, 폰트, 컴포넌트 등 통일)
- 평가는 **프론트엔드 리드 1명이 전담** (취향 일관성 확보)
- 디자인 데이터는 IGRUS-Web 레포가 아닌 **별도 레포에서 관리**

## 단계별 실행 계획

### Phase 1: MVP (프롬프트 주입 방식)

**목표**: 최소 비용으로 컨셉 검증

- AI에게 디자인(HTML/CSS) 생성 요청
- 프론트엔드 리드가 A/B 선택 + 한 줄 이유 작성
- `{프롬프트, 출력 코드, 선택 결과, 이유}`를 별도 레포에 저장
- 다음 생성 시, 고득점 예시와 코멘트를 프롬프트 컨텍스트에 삽입

**필요한 것**: API 키 + 별도 레포

### Phase 2: 가이드라인 자동 추출 (데이터 100개+)

**목표**: 프롬프트 효율화

- 축적된 피드백에서 패턴 추출 → `DESIGN_GUIDE.md` 자동 생성
- 매번 전체 데이터를 넣는 대신, 요약된 가이드라인만 주입
- 컨텍스트 윈도우 한계 해결

### Phase 3: Fine-tuning (데이터 500개+)

**목표**: 프롬프트 의존도 제거

- 고득점 데이터로 모델 fine-tuning
- 프롬프트 없이도 취향이 반영된 출력
- 주기적 재학습으로 취향 변화 추적

## 예상 수렴 속도

| 단계 | 데이터 수 | 기대 효과 |
|------|----------|----------|
| 초기 | 20~30개 | 기본 취향 방향 잡힘 (색상, 여백, 레이아웃) |
| 중기 | 100개 | 일관된 스타일 가이드 추출 가능 |
| 후기 | 500개+ | fine-tuning 가능, 프롬프트 없이도 취향 반영 |

## 별도 레포 구조

```
design-agent/
├── guidelines/
│   └── DESIGN_GUIDE.md        ← AI가 참조할 가이드라인 (핵심)
├── archive/
│   ├── 001-login-page/
│   │   ├── a.html
│   │   ├── b.html
│   │   └── evaluation.json    ← {winner, reason}
│   └── 002-dashboard/
│       └── ...
└── prompts/
    └── system-prompt.md       ← 기본 시스템 프롬프트
```

### 데이터 용량

- HTML/CSS 1개 ≈ 5~50KB, 메타데이터 ≈ 3KB
- 500개 누적해도 약 25MB — 용량 문제 없음
- 단, IGRUS-Web 레포에 넣지 않는 이유:
  - Git은 모든 버전을 히스토리에 영구 보관하여 clone 속도 저하
  - PR 리뷰에 디자인 데이터가 섞여서 노이즈 발생
  - 프로젝트 관심사 분리

## 디자인 결과물 적용 방식

```
[design-agent 레포]                     [IGRUS-Web 레포]

에이전트가 HTML/CSS 시안 생성
    ↓
프론트엔드 리드 평가 → 최종안 확정
    ↓
확정된 HTML/CSS를                        개발자가 React 컴포넌트로 구현
참고 자료로 사용          ──────────▶    (기존 디자인 시스템 컨벤션에 맞게 변환)
```

Claude Code에서 `"이 HTML/CSS 시안을 참고해서 React 컴포넌트로 변환해줘"`로 변환을 자동화할 수도 있음.

## 예상 문제점과 대응

| 문제 | 설명 | 대응 |
|------|------|------|
| Cold Start | 초기 데이터 없이 20~30회는 랜덤에 가까움 | 레퍼런스 사이트 3~5개를 초기 가이드라인으로 제공 |
| 평가 피로 | 반복 평가에 의한 성의 저하 | A/B 선택 + 한 줄 이유로 가볍게 유지 |
| 컨텍스트 부재 | 어떤 맥락에서 그 평가를 했는지 누락 | 평가 시 용도·대상 태그 기입 |
| 로컬 최적화 | 안전한 디자인만 반복 생성 | 5회에 1회는 가이드라인 무시하고 자유 생성 |
| 일반화 한계 | 페이지 유형마다 다른 원칙 필요 | 페이지 유형별로 가이드라인 분리 |

### 이 전략에서 이미 해결된 문제

- **취향 충돌** → 프론트엔드 리드 1명이 전담하므로 일관된 기준
- **디자인 일관성 부족** → 기존 디자인 시스템 위에서 생성하므로 통일성 확보

## 핵심 원칙

1. **`DESIGN_GUIDE.md` 하나가 모델 전체를 좌우한다** — 여기에 집중
2. **Phase 1(프롬프트 주입)부터 시작** — 검증 전에 인프라 과투자 금지
3. **별도의 앱을 만들지 않는다** — Git 레포 + 파일 관리면 충분
4. **HTML/CSS로 출력** — 이미지보다 수정·비교·저장 용이
5. **A/B 비교 > 절대 점수** — 상대 비교가 더 일관된 피드백을 줌
